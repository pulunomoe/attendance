{% extends '__layout.twig' %}

{% import '__macros/html.twig' as html %}

{% block content %}

{% include '__commons/success.twig' %}

{{ html.breadcrumbs([
	{link: '/departments', label: 'Departments'}
]) }}

{{ html.pageHeader('Department list', [
	{link: '/departments/form', class: 'btn-primary', label: 'Add new department'}
]) }}

<table class="table table-hover">
	<thead>
		<tr>
			<th>Name</th>
			<th>Manager</th>
			<th>Description</th>
		</tr>
	</thead>
	<tbody>
		{% for department in departments %}
			<tr>
				<td>
					<a href="/departments/view/{{ department.id }}">
						{{ department.name }}
					</a>
				</td>
				<td>
					<a href="/employees/view/{{ department.manager_id }}">
						{{ department.manager_name }} &lt;{{ department.manager_email }}&gt;
					</a>
				</td>
				<td>{{ department.description }}</td>
			</tr>
		{% endfor %}
	</tbody>
</table>

{% endblock %}
